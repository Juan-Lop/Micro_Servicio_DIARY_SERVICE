spring.application.name=diary-service

# -------------------------------------------------------------------------------------
# --- Configuracion de Puerto del Microservicio ---
# Puerto diferente al Auth Service (8081)
# -------------------------------------------------------------------------------------
server.port=${PORT:8082}

# -------------------------------------------------------------------------------------
# --- Configuracion de Actuator para Health Checks ---
# -------------------------------------------------------------------------------------
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized
management.health.defaults.enabled=true

# -------------------------------------------------------------------------------------
# --- Configuracion de Spring Data JPA (PostgreSQL) ---
# Usar una base de datos separada (o schema)
# -------------------------------------------------------------------------------------
spring.datasource.url=jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:diary_db}
spring.datasource.username=${DB_USERNAME:postgres}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

spring.jpa.hibernate.ddl-auto=${HIBERNATE_DDL_AUTO:update}
spring.jpa.show-sql=${SHOW_SQL:false}
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.jdbc.batch_size=20

# -------------------------------------------------------------------------------------
# --- Configuracion de JWT (SHARED SECRET) ---
# ESTA CLAVE DEBE SER LA MISMA QUE EN EL AUTH SERVICE para validar la firma
# -------------------------------------------------------------------------------------
jwt.secret.key=${JWT_SECRET_KEY}

# -------------------------------------------------------------------------------------
# --- Configuracion de Gemini ---
# -------------------------------------------------------------------------------------
# Google Gemini Configuration

google.ai.gemini.api-key=${GEMINI_API_KEY}
google.ai.gemini.url=${GEMINI_API_URL:https://generativelanguage.googleapis.com/v1/models/gemini-2.5-flash:generateContent}

# Logging
logging.level.com.emocional.diary=${LOG_LEVEL:INFO}
logging.level.org.springframework.web=${LOG_LEVEL_SPRING_WEB:WARN}
logging.level.org.hibernate=${LOG_LEVEL_HIBERNATE:WARN}

# -------------------------------------------------------------------------------------
# --- Configuracion de CORS ---
# -------------------------------------------------------------------------------------
cors.allowed.origins=${CORS_ALLOWED_ORIGINS:https://front-end-proyect-diario.vercel.app,http://localhost:5174,http://localhost:3000}